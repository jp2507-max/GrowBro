appId: ${APP_ID}
env:
  EMAIL: 'test+maestro@growbro.app'
---
# Password reset flow test
# Tests: login → forgot password → email input → submit → success message

- launchApp

# Verify login screen loaded
- assertVisible:
    id: 'login-title'

# Tap "Forgot Password?" link
- tapOn: 'Forgot Password?'

# Verify password reset screen loaded
- assertVisible:
    id: 'reset-password-title'

# Fill in email
- tapOn:
    id: 'email-input'
- inputText: ${EMAIL}
- runFlow: ../utils/hide-keyboard.yaml

# Submit reset request
- tapOn:
    id: 'reset-password-button'

# Wait for success message
# Note: Success message is always shown regardless of email existence (security)
- assertVisible: 'Password reset email sent'

# Verify user can navigate back to login
- tapOn: 'Back to Sign In'
- assertVisible:
    id: 'login-title'
