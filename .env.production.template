# Production Environment Variables Template
# Copy this file to .env.production and fill in all required values

# ============================================================================
# LEGAL & COMPLIANCE CONTACT INFORMATION (REQUIRED FOR PRODUCTION)
# ============================================================================
# ⚠️ These values MUST be populated before production deployment
# They are used in compliance documents (RoPA, privacy notices, etc.)
# Failure to populate these values will result in invalid compliance documents

# Legal entity address - Complete legal address of the data controller
# Example: "GrowBro GmbH, Musterstrasse 123, 10115 Berlin, Germany"
LEGAL_ENTITY_ADDRESS="[PRODUCTION ADDRESS REQUIRED]"

# Data Protection Officer (DPO) email - Must be a valid, monitored email address
# Current placeholder: jan-blohm@gmx.de
# Verify this is correct for production or update accordingly
DPO_EMAIL="jan-blohm@gmx.de"

# Data Protection Officer name - Full legal name
# Example: "Jan Blohm"
DPO_NAME="[PRODUCTION DPO NAME REQUIRED]"

# EU Representative address (only if controller is outside EU)
# Leave empty if not applicable
# Example: "EU Representative Legal Name, Address, City, Country"
EU_REPRESENTATIVE_ADDRESS=""

# ============================================================================
# SUPABASE CONFIGURATION (REQUIRED)
# ============================================================================
SUPABASE_URL="https://your-project.supabase.co"
SUPABASE_ANON_KEY="your-anon-key-here"

# ============================================================================
# DSA TRANSPARENCY DATABASE (REQUIRED FOR MODERATION)
# ============================================================================
# European Commission DSA Transparency Database API
DSA_TRANSPARENCY_DB_URL="https://transparency.dsa.ec.europa.eu/api/v1"
DSA_TRANSPARENCY_DB_API_KEY="[REQUIRED FOR SOR SUBMISSIONS]"

# ============================================================================
# PII SCRUBBING CONFIGURATION (REQUIRED FOR GDPR/DSA)
# ============================================================================
# Cryptographic salt for PII pseudonymization in transparency reports
# Generate using: openssl rand -hex 32
PII_SCRUBBING_SALT="[GENERATE RANDOM HEX STRING]"
PII_SALT_VERSION="1.0"

# ============================================================================
# SENTRY CONFIGURATION (RECOMMENDED)
# ============================================================================
SENTRY_DSN="[YOUR SENTRY DSN]"
SENTRY_PROJECT="growbro-mobile"
SENTRY_ORG="your-org"
SENTRY_SEND_DEFAULT_PII="false"
SENTRY_REPLAYS_SESSION_SAMPLE_RATE="0.1"
SENTRY_REPLAYS_ON_ERROR_SAMPLE_RATE="1.0"
SENTRY_ENABLE_REPLAY="true"

# ============================================================================
# SECURITY & CERTIFICATE PINNING
# ============================================================================
FEATURE_SECURITY_CERTIFICATE_PINNING="true"
FEATURE_SECURITY_BYPASS_PINNING="false"
# Comma-separated hostnames (supports .example.com for subdomains)
# IMPORTANT: Populate with your actual production domains before deploying
SECURITY_PIN_DOMAINS="mgbekkpswaizzthgefbc.supabase.co,.supabase.co"
# Comma-separated SHA-256 pin digests matching the domain list above
# IMPORTANT: These hashes were generated for your Supabase domains on 2025-11-08
# To regenerate: node -e "const https=require('https');const req=https.request({hostname:'DOMAIN',port:443,rejectUnauthorized:false},(r)=>{const c=r.socket.getPeerCertificate();if(c&&c.pubkey){const h=require('crypto').createHash('sha256');h.update(c.pubkey);console.log('sha256/'+h.digest('base64'));}});req.end();"
SECURITY_PIN_HASHES="sha256/ckmVX7roOyrjNR9KuTogh+Z42iOeDbEmDBSvAeky8p4=,sha256/i1cBCUTQtLssEK4TU86Q71tPpIr2wd0K/SiKEOKzV4k="

# ============================================================================
# OTA CODE SIGNING (REQUIRED FOR MANAGED OTA UPDATES)
# ============================================================================
CODE_SIGNING_CERT_PATH="./certs/code-signing-prod.pem"
CODE_SIGNING_KEY_ID="growbro-main"
CODE_SIGNING_ALG="rsa-v1_5-sha256"

# ============================================================================
# APP ACCESS (APP STORE REVIEW)
# ============================================================================
APP_ACCESS_REVIEWER_EMAIL="[APP STORE REVIEWER EMAIL]"
APP_ACCESS_REVIEWER_PASSWORD="[APP STORE REVIEWER PASSWORD]"

# ============================================================================
# OTHER REQUIRED VARIABLES
# ============================================================================
API_URL="https://api.growbro.app"
SECRET_KEY="[GENERATE SECURE SECRET KEY]"
ACCOUNT_DELETION_URL="https://growbro.app/delete-account"

# ============================================================================
# FEATURE FLAGS (PRODUCTION)
# ============================================================================
FEATURE_STRAINS_ENABLED="false"
FEATURE_STRAINS_FAVORITES_SYNC="false"
FEATURE_STRAINS_OFFLINE_CACHE="false"
FEATURE_AI_ADJUSTMENTS_ENABLED="false"

# ============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ============================================================================
# Before deploying to production, ensure:
# [ ] All [REQUIRED] and [PRODUCTION ... REQUIRED] values are populated
# [ ] DPO_EMAIL is correct and monitored
# [ ] LEGAL_ENTITY_ADDRESS matches legal entity registration
# [ ] PII_SCRUBBING_SALT is generated and stored securely in CI/CD secrets
# [ ] DSA_TRANSPARENCY_DB_API_KEY is obtained from European Commission
# [ ] All placeholder values are replaced with real values
# [ ] Legal team has reviewed and approved all contact information
# [ ] Audit trail documented for all value changes
# [ ] CI/CD pipeline configured to inject secrets at build time
# [ ] Compliance team has validated all populated values
# [ ] No sensitive values are committed to version control


